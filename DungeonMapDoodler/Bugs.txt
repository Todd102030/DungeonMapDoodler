Todo Bugfixes:
Add cursor outline to line draw tool - not lining up on zoom
Right click acts as draw as well

Fixes to mobile use, offline support

DONE set showingPopup to true when saving image, saving file, text editing

Confirm popup when deleting layers
Add option to duplicate a layer

Hatching doesn't fill entire length of line tool

Fix weird fuzziness/colour transparency when outside grid is disabled

Finish floor tiles

DONE Create a framebuffer image, composite all images onto it, only rerender it when necessary
  lets us only draw a single item to the actual screen each frame
  
DONE Border and hatch size option for all drawing tools


Make text and stamps be layer specific

Change undo buttons to factor in stamps and text as well


AUGUST 4 2022 TODO:
Add more hatching options, more realistic map textures

Vector layers
 - Inkarnate has a background and foreground layer, background is basically my current hatch layer, foreground is my doodle layer. Rather than having outline layer just be drawing slightly bigger than the doodle layer, figure out how to do various effects based on the boundaries of the doodle layer. Like, an outline/outer shadow, a ripple effect, etc. Interior shadows as well, but that would need to be a new layer I think

Keyboard shortcuts bar - suggestions for common stuff. Needs to update on tool change and on shift click. 
More hover effects for tooltips and such
Revamp ui in general, make things look nicer
Widen stamp interface/sidebar
Chrome reloads entire stamp popup when it opens, need to show/hide and not rebuild html unless necessary
* Painter mode that lets you paint textures(hatches) into only already drawn map area. Option to switch between drawing inside of foreground (doodle map) or background
    * More options for brushes, not just a fuzzy circle
* Draw onto a temporary overlay layer and then "paste" it onto the actual doodle layer when done so that the outline doesn't disappear entirely from the map when drawing new stuff. 
    - Can fbCanvas be leveraged for this? 
    - On mouseup, take overlay canvas and draw to current layer
* In world map mode, hatching should be disabled, treat hatch layer and doodle layer as background and foreground as two separate things
* make things like outline thickness and other size sliders global
* More svg filter options and an easy way to switch between them similar to popup for background selector
* Add a popup hatching selector just like the style/stamp popups
Refer to svg filters as "Dynamic Brushes" or some buzzwordy thing
  --Worth keeping: ripple1, noise, squiggly-1
  * Things like baseFrequency, give user a slider to adjust


*****APPLY FILTER ONTO TEMPOVERLAY DIRECTLY SO WHEN IT"S PASTED DOWN, IT"S PERMANENTLY THAT WAY
DON"T APPLY FILTER WHEN DRAWING DOODLE CANVAS




***FOR EACH NEW UPDATE***
- Edit serviceworker.js if new files added, ensure cache version is updated
- manifest.json, make sure is pointing to correct domain/folder
- make sure isBeta is set correctly



Changelog 1.2:
Offline support - install DMD to your tablet or computer's home screen and use without internet
Floor Tiles - Lots of different styles to customize the look and feel of your dungeons
Multitouch support for pan and zoom gestures on mobile
New stamp picker interface with larger icons
Performance improvements
JPG and BMP file export support
Wall thickness and hatch size options on all drawing tools
Added commercial use policy to "About" section
Lots of bug fixes

Changelog 1.3:
Interior wall tool
Improvements to stamp tool
Added some info on how to use the program 
DonJon import support

Changelog 1.4:
Built in dungeon generation
Image Overlays
Blend Modes
Style Presets
Added tooltips to tools on mouseover
Changed stamps to be layer specific




** Stamps to Buy **
Arrow trap (shoots arrow from wall)
Bear trap
Man eating flower
Quicksand
Spikes
Green slime
Spider webs



Stamp Changes:
When no stamp is selected, clicking without moving not on a stamp should place a new stamp
When no stamp is selected, clicking without moving *on* a stamp should select the stamp

When stamp is selected, draw outline and button to rotate stamp
When stamp is selected, clicking off stamp will unselect stamp but not place a stamp

When stamp is selected, clicking and dragging it should move the stamp

Sept 2:
- Add option to random dungeon gen for "no stuff, some stuff, lots of stuff, etc"

Overlay styles:
Parchment paper X
Leather X
Blueprint
Lattice/woven paper X
Large leaf ribbing X
Oil cloth
Wood grain
Burnt Paper

Not really overlay style specific:
Invert Colour option?






Style Presets:
Light Parchment
{
    overlay: parchment-yellow
    blend: hue
    hatch: hatching
    floor: none
}

Light Parchment
{
    overlay: parchment-yellow
    blend: multiply
    hatch: hatching
    floor: none
}

Dark Parchment
{
    overlay: parchment-black
    blend: difference
    hatch: hatching
    floor: none
}

Space
{
    overlay: parchment-black
    blend: lighten
    hatch: space1
    floor: cartoon metal
}

[
    {
        name: "Light Parchment",
        overlay: "overlays/parchment-paper-light-texture.jpg",
        blend: "hue",
        hatch: "hatchingImg",
        floor: ""
    },
    {
        name: "Light Parchment 2",
        overlay: "overlays/parchment-paper-light-texture.jpg",
        blend: "multiply",
        hatch: "hatchingImg",
        floor: ""
    },
    {
        name: "Dark Parchment",
        overlay: "overlays/black-parchment.jpg",
        blend: "difference",
        hatch: "hatchingImg",
        floor: ""
    },
    {
        name: "Outer Space",
        overlay: "overlays/black-parchment.jpg",
        blend: "lighten",
        hatch: "space1",
        floor: "metal1"
    },

]





















