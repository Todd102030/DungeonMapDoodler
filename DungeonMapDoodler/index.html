<!DOCTYPE HTML>
<html>
    <head>
		<title>Dungeon Map Doodler</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <meta property="og:image" content="https://dungeonmapdoodler.ca/images/background.png" />
      	<link rel="stylesheet" type="text/css" href="style.css">
      	<link rel="stylesheet" id='darkTheme' type="text/css" href="darkstyle.css">
        <link rel="apple-touch-icon" href="touch-icon-iphone.png">
        <link rel="apple-touch-icon" sizes="152x152" href="icon-152.png">
        <link rel="apple-touch-icon" sizes="180x180" href="icon-180.png">
        <link rel="apple-touch-icon" sizes="167x167" href="icon-167.png">
      	<!--<link rel="stylesheet" type="text/css" href="style2.css">-->
		<link rel="manifest" href="manifest.json">
        <link rel="icon" type="image/png"   href="icon-192.png">
        <style>
        /*.appContent {
            transition: opacity 0.5s;
            opacity: 0;
        }

        .appContent.loaded {
            opacity: 1;
        }*/
            .loaderr {
              position: fixed;
              left: 0px;
              top: 0px;
              width: 100%;
              height: 100%;
              z-index: 9999;
              background-color: rgb(196, 196, 196);
            }
        </style>
    </head>
<body onload='doodler.show()'>
 <div class="loaderr" id='loaderr' style='text-align: center;display:flex;flex-direction: row;flex-wrap: wrap;justify-content: center;align-content: center;align-items: center;'><div><img src='icon-192.png'><h1 >Dungeon Map Doodler</h1><div class='loader'></div><br>Loading...</div></div>
    <script type="text/javascript">
        window.addEventListener("load",function(){
            document.getElementById("loaderr").style.display = "none";
        });
 
</script>
	<div class='flex-container appContent' id='appContent'>
		<div class='topBar' style='text-align: right'>
			<nav id="nav">
				<ul id="navigation">
					<li><a href="/">Dungeon Map Doodler</a></li>
					<li><a href="#">File &raquo;</a>
						<ul>
                            <li><a href="#" onclick="ir.show('dimensionPopup');doodler.popupShowing=true;">New Map</a></li>
							<li><a href="#" onclick="return doodler.saveFile()">Save</a></li>
							<li><a href="#" onclick="return doodler.showFileLoad()">Load</a></li>
							<li><a href="#" onclick="return doodler.saveImage()">Export Image</a></li>
							<li><a href="#" onclick="return doodler.exportImage()" alt="Publish to fictionalmaps.com" title="Publish to fictionalmaps.com">Publish Map</a></li>

						</ul>
					</li>
					<li><a href="#">Grid &raquo;</a>
						<ul>
							<li><a href="#" onclick="return doodler.toggleGridOutside()">Toggle Outer Grid</a></li>
							<li><a href="#" onclick="return doodler.toggleGrid()">Toggle Entire Grid</a></li>
							<li><a href="#" onclick="ir.show('dimensionPopup');doodler.popupShowing=true;">Change Grid Dimensions</a></li>
						</ul>
					</li>
					<li><a href="#">Options &raquo;</a>
						<ul>
							<li><a href="#" onclick="doodler.toggleTheme()">Toggle Dark/Light Mode</a></li>
							<li><a href="#" onclick="doodler.toggleToolDock()">Dock/Undock Tools</a></li>
						</ul>
					</li>
                    <li><a href="#">Tools &raquo;</a>
						<ul>
							<li><a href="#" onclick="doodler.showDonJonLoad()">Import donjon Map</a></li>
							<li><a href="#" onclick="doodler.showGenerateDungeonPopup()">Generate Dungeon</a></li>
							<li><a href="#" onclick="doodler.pop('worldGenPopup')">Generate World</a></li>
						</ul>
					</li>
                    <li><a href="#" class="last">Info &raquo;</a>
                        <ul>
							<li><a href="#" onclick="doodler.showAboutPopup()">About</a></li>
							<li><a href="#" onclick="doodler.showHowToPopup()">How To</a></li>
						</ul>
                    </li>
				</ul>
			</nav>
		</div>
		
		<div id='doodler'>
			<canvas id="warehouseCanvas" width="800" height="800" ></canvas>  
			<div style='display:none'>
			<input type='file' id="imageUpload" accept=".dmd"/>
			<input type='file' id="donJonUpload" accept=".tsv, .txt"/>
			<div style="display:inline-block">
				<label id='whImgLabel' for="whImgSlider">Background Visibility 40%</label><br>
				<input id="whImgSlider" type="range" min="0" max="1" step="0.01" value="0.40">
			</div>
			</div>

		</div>
	</div>
	
<div style='display:none;'>
	
	
	
	<label for='imageSaveIsometric'><input type='checkbox' id='imageSaveIsometric'> Isometric</label>
	
</div>	
	

	
<div id='aboutPopup' class='popupPanel' style='text-align: left;padding:20px;'>
    <div id="aboutPopupContent" style="max-height: calc( 100% - 38px ); overflow: auto;">
        <h3>About</h3>
        <p>Dungeon Map Doodler is a program designed to easily create tabletop RPG maps created by Todd Ross (<a target="_blank" rel="noopener noreferrer" href='https://twitter.com/ToddRossDIY'>@ToddRossDIY</a>). This project is in early development stages and there will likely be bugs and other issues with it. I appreciate your patience in using this software and look forward to continuing to improve it!</p>
        
        <h3>Commercial Use Policy</h3>
        <p>Any maps you create with the intention of distributing for free whether by itself or as a part of a larger project can be included under the same licensing that the rest of your content is being released as. 
        <br><br>
        If you are making money with your creations, I ask that you become a patron of the $5 tier or higher to help support continued development of the project. If you're not a patron already, you can join at (<a target="_blank" rel="noopener noreferrer" href='https://www.patreon.com/bePatron?u=17254686'>https://www.patreon.com/bePatron?u=17254686</a>). If this small cost is prohibitive to you, please contact me and we can work something out!
        <br><br>
        While not mandatory, I would appreciate if you give credit so that people can see where the maps were made and have the opportunity to try the software out themselves. This can be as simple as a footnote along the lines of "Maps created at dungeonmapdoodler.com"</p>
        
		<h3>Contact Us</h3>
        <p>For any questions, bug reports or other comments, please email me at <a target="_blank" rel="noopener noreferrer" href='mailto:tross5000@gmail.com?subject=Dungeon Map Doodler Inquiry'>tross5000@gmail.com</a></p>
    

        <h3>Credits</h3>
        Stamps, Interface Icons:<br>
        Andrew Landmine<br>
        <a href='https://twitter.com/landmine752'>@landmine752</a>
        <br><br>
        Monster Stamps:<br>
        Rene Carbonell<br>
        Reneplicant@protonmail.com<br>
		<br><br>
		Game-icons.net Icons<br>
		Delapouite	https://delapouite.com<br>
		Lorc https://lorcblog.blogspot.com<br>
		Skoll	<br>
		Viscious Speed	https://viscious-speed.deviantart.com<br>
		sbed	http://opengameart.org/content/95-game-icons<br>
		Caro Asercion	<br>
		Simon (aussiesim)	<br>
		DarkZaitzev	http://darkzaitzev.deviantart.com<br>
		Cathelineau	<br>
		Quoting	<br>
		Faithtoken	http://www.faithtoken.com<br>
		Lord Berandas	http://berandas.deviantart.com<br>
		Willdabeast	http://wjbstories.blogspot.com<br>
		PriorBlue	<br>
		Carl Olsen	https://twitter.com/unstoppableCarl<br>
		Lucas	<br>
		Felbrigg	http://blackdogofdoom.blogspot.co.uk<br>
		Pierre Leducq	<br>
		Guard13007	https://guard13007.com<br>
		rihlsul	<br>
		Kier Heyl	<br>
		John Redman	http://www.uniquedicetowers.com<br>
		Various artists	https://commons.wikimedia.org<br>
		Zajkonur	<br>
		GeneralAce135	<br>
		Zeromancer	<br>
		HeavenlyDog	http://www.gnomosygoblins.blogspot.com<br>
		Pepijn Poolman	<br>
		starseeker	<br>
		catsu	<br>
		SpencerDub	<br>
		sparker	http://citizenparker.com<br>
		Andy Meneely	http://www.se.rit.edu/~andy/<br>
		Irongamer	http://ecesisllc.wix.com/home<br>
		John Colburn	http://ninmunanmu.com<br>
        
        
        </div>
    <div class='popupFooter' style='padding-top: 8px;text-align: center'>
        <button type="button" class="canvBtn" onclick="doodler.unpop('aboutPopup');doodler.popupShowing = false;">Cancel</button>
    </div>
</div>
    
<div id='howToPopup' class='popupPanel' style='text-align: left;padding:20px;'>
    <div id="howToPopupContent" style="max-height: calc( 100% - 38px ); overflow: auto;">
        <h3>How To Use Dungeon Map Doodler</h3>
        <p>Dungeon Map Doodler is a tool for quickly designing RPG game maps with a hand drawn feel. It's designed to be very intuitive to use and work on as many devices as possible. It's still in early stages of development, so if you find any issues with it, please reach out to me using the contact info in the About section. <b>Note:</b> If you notice anything not working as expected, please first try forcing a reload by holding Ctrl and pressing F5. The offline support can cause new code to not always get downloaded from the server when updates are released, giving the appearance of something not working correctly.</p>
        
        <h4>General Questions</h4>
        <h5>How to install to home screen/desktop for offline use</h5>
        <p>Instructions for this can be a little different for all web browsers and operating systems. For Chrome on a desktop, you should see a "+ Install" button in the top right of your screen in the URL bar. On Chrome for Android, a popup will typically appear at the bottom of the screen mentioning that it's possible to add to your home screen. On Apple devices, the Share button in Safari should have an option to add to your home screen.</p>
        
        <h5>Different Between Saving and Exporting</h5>
        <p>If you want to close the window and come back to work on your map later, you'll want to use the "Save" option in the File menu. This creates a ".dmd" file which can then be loaded back into the software using the "Load" option. To save your map as a PNG image or other image format, you'll want to use the "Export Image" option. This creates an actual image file that you can then print, open in any other image editing program or send to your friends. You can also choose a background colour for the image, or choose to make it transparent.</p>
        
        <h4>Drawing Tools</h4>
        <h5>Snap To Grid</h5>
        <p>The Snap To Grid tool allows you to quickly draw while snapping your cursor to the visible grid, filling in entire squares at a time. Use this to create straight hallways, rooms and any other structures where you want to have a solid feel to the room.</p>
        <h5>Free Draw</h5>
        <p>The Free Draw tool allows you to freehand draw anything you'd like! It has a few options for size, hatch size, wall thickness, shape and colour. This can be used for drawing more organic shapes like the outline of a forest, a winding path or anything else that you don't want snapped to the grid.</p>
        <h5>Line Tool</h5>
        <p>The Line tool lets you draw a straight line from one point to another. Click and hold to start a line, and release it at the end of the line. Use this tool to draw straight lines at any angle.</p>
        <h5>Wall Tool</h5>
        <p>The Interior Wall tool acts like a thin eraser to let you draw walls inside of a larger room. Similar to the Line tool, click and hold to start a wall, and release at the end of the line.</p>
        <h5>Room Tool</h5>
        <p>The Room tool is similar to the Snap To Grid tool, but allows you to fill in large rectangles at a time. Click and hold to drag out a rectangle the size that you want for your room and release to create the room. This tool is optionally snap to grid, and can be used in Subtractive mode as well. Enabling this will delete the floor of your room rather than adding to it, and can be used for all sorts of cool designs, especially when combined with the Shape tool.</p>
        <h5>Shape Tool</h5>
        <p>The Shape Tool is similar to the Room tool, but lets you draw regular polygons of any number of sides. To draw, click and drag from the center of your shape and pull your mouse outwards. The distance from the center will determine the size of your shape, and moving your cursor around will rotate it accordingly. This tool is also optionally snap to grid and offers Subtractive mode.</p>
        <h5>Hatching</h5>
        <p>The Hatching tool allows you to fill in just the hatching layer without drawing anything else. You can also change the style of hatching as well as the floor style here. Hatching is specific to the layer you're working on, and all layers can have different hatch styles. This allows for lots of different map appearances, not just hand drawn styles.</p>
        <h5>Stamp Tool</h5>
        <p>The Stamp tool is how you go about adding any sort of details to your maps like doors, staircases, furniture and hazards/traps. Clicking on a stamp in the toolbox will select that stamp. You can also click on the "Current Stamp" icon to show a larger selection popup with a search tool. Stamps are organized into categories based on their purpose, and clicking the header of a section will expand/collapse the section. Once a stamp has been placed, you can click and drag to move it around. Clicking on a stamp will select it, allowing you to rotate it by clicking and dragging the little red circle near the stamp. You can delete a placed stamp by selecting it and clicking the little garbage can button beside the current stamp in the toolbox.</p>
        <h5>Erase Tool</h5>
        <p>The Erase tool can be used to erase all aspects of your map depending on which parts are selected. There's checkboxes for Hatching, Outline, Rooms and Stamps, allowing you to choose one or more specific pieces of the map to erase.</p>
        <h5>Text Tool</h5>
        <p>The Text tool lets you write text on your map in various different fonts. Clicking on the map will show the edit popup for text, letting you write the text you want, choose a font size and font. Clicking okay will create a text object on the screen which you can then click and drag to move to wherever you want. Clicking on existing text will show the edit popup again, allowing you to change any aspects of the text, or delete the text object</p>
        
    </div>
    <div class='popupFooter' style='padding-top: 8px;text-align: center'>
        <button type="button" class="canvBtn" onclick="doodler.unpop('howToPopup');doodler.popupShowing = false;">Close</button>
    </div>
</div>

<div id='stampPopup' class='popupPanel' style='text-align: center'>
    <input type='text' style='padding:6px;font-size: 16pt;width:100%;' id='stampSearch' placeholder="Search by stamp name" oninput="Modes.StampTool.searchStamp(event)">
    <div id="stampPopupList" style="max-height: calc( 100% - 100px ); overflow: auto;"></div>
    <div class='popupFooter' style='padding-top: 8px'>
        <button type="button" class="canvBtn" onclick="Modes.StampTool.addStamp(true);doodler.popupShowing = false;">Add Stamp</button>
        <button type="button" class="canvBtn" onclick="doodler.unpop('stampPopup');doodler.popupShowing = false;">Cancel</button>
    </div>
</div>

<div id='stylePresetPopup' class='popupPanel' style='text-align: center'>
    <h2>Choose Style Preset</h2>
    <div id="stylePresetPopupList" style="max-height: calc( 100% - 130px ); overflow: auto;"></div>
    <div class='popupFooter' style='padding-top: 8px'>
        <button type="button" class="canvBtn" onclick="doodler.unpop('stylePresetPopup');doodler.popupShowing = false;">Cancel</button>
    </div>
</div>
    
<div id='hatchPopup' class='popupPanel' style='text-align: center'>
    <h2>Choose Texture</h2>
    <div id="hatchPopupList" style="max-height: calc( 100% - 130px ); overflow: auto;">
    
        <div class='hatchImgWrap' style='display: none' onclick='doodler.selectHatchTexture("squarefuzzImg")'><img id='squarefuzzImg' src='images/squarefuzz.png'></div>
        <div class='hatchImgWrap' style='display: none' onclick='doodler.selectHatchTexture("circlefuzzImg")'><img id='circlefuzzImg' src='images/circlefuzz.png'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("plainWhite")'><img id='plainWhite' src='images/white.png'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("hatchingImg")'><img id='hatchingImg' src='hatching.png'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("hatchingImgDots")'><img id='hatchingImgDots' src='hatches/dots.png'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("hatchingImgJPCrosshatch")'><img id='hatchingImgJPCrosshatch' src='hatches/DMD Crosshatch Pattern.png'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("hatchingImgJPHalftone")'><img id='hatchingImgJPHalftone' src='hatches/DMD Halftone Pattern.png'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("hatchingImgJPStipple")'><img id='hatchingImgJPStipple' src='hatches/DMD Stipple Pattern.png'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("hatchingImgJPStone")'><img id='hatchingImgJPStone' src='hatches/DMD Stone Pattern.png'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("hatchingImgJPGrass")'><img id='hatchingImgJPGrass' src='hatches/DMG Grass Pattern.png'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("hatchingImgSolidBlack")'><img id='hatchingImgSolidBlack' src='hatches/solidblack.png'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("hatchingImgGrass")'><img id='hatchingImgGrass' src='floortiles/grasstile.jpg'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("hatchingImgRock")'><img id='hatchingImgRock' src='floortiles/rocktile.jpg'></div>
    
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("brick1")'><img id='brick1' src='floortiles/brick1.png'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("metal1")'><img id='metal1' src='floortiles/metal1.png'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("wood1")'><img id='wood1' src='floortiles/wood1.png'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("magma1")'><img id='magma1' src='floortiles/magma1.svg'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("sand1")'><img id='sand1' src='floortiles/sand1.svg'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("sand2")'><img id='sand2' src='floortiles/sand2.svg'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("space1")'><img id='space1' src='floortiles/space1.svg'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("space2")'><img id='space2' src='floortiles/space2.svg'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("space3")'><img id='space3' src='floortiles/space3.png'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("space4")'><img id='space4' src='floortiles/space4.svg'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("stone1")'><img id='stone1' src='floortiles/stone1.png'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("water1")'><img id='water1' src='floortiles/water1.svg'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("grass1")'><img id='grass1' src='floortiles/grass1.png'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("grass2")'><img id='grass2' src='floortiles/grass2.png'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("grass3")'><img id='grass3' src='floortiles/grass3.png'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("f1")'><img id='f1' src='hatches/f1.JPG'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("f2")'><img id='f2' src='hatches/f2.JPG'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("f3")'><img id='f3' src='hatches/f3.JPG'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("f4")'><img id='f4' src='hatches/f4.JPG'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("f5")'><img id='f5' src='hatches/f5.JPG'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("f6")'><img id='f6' src='hatches/f6.JPG'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("d1")'><img id='d1' src='hatches/d1.JPG'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("d2")'><img id='d2' src='hatches/d2.JPG'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("d3")'><img id='d3' src='hatches/d3.JPG'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("d4")'><img id='d4' src='hatches/d4.JPG'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("w1")'><img id='w1' src='hatches/w1.JPG'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("w2")'><img id='w2' src='hatches/w2.JPG'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("w3")'><img id='w3' src='hatches/w3.JPG'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("w4")'><img id='w4' src='hatches/w4.JPG'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("sn1")'><img id='sn1' src='hatches/sn1.jpg'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("sn2")'><img id='sn2' src='hatches/sn2.jpg'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("di1")'><img id='di1' src='hatches/di1.JPG'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("di2")'><img id='di2' src='hatches/di2.JPG'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("gr1")'><img id='gr1' src='hatches/gr1.JPG'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("gr2")'><img id='gr2' src='hatches/gr2.JPG'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("gr3")'><img id='gr3' src='hatches/gr3.JPG'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("r1")'><img id='r1' src='hatches/r1.JPG'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("r2")'><img id='r2' src='hatches/r2.JPG'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("r3")'><img id='r3' src='hatches/r3.JPG'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("r4")'><img id='r4' src='hatches/r4.JPG'></div>
        <div class='hatchImgWrap' onclick='doodler.selectHatchTexture("r5")'><img id='r5' src='hatches/r5.JPG'></div>
    
    </div>
    <div class='popupFooter' style='padding-top: 8px'>
        <button type="button" class="canvBtn" onclick="doodler.unpop('hatchPopup');doodler.popupShowing = false;">Cancel</button>
    </div>
</div>


<div id='textPopup' style='border-style:double;background-color:#fff;display:none;z-index:10000;width:auto;max-width:600px;height:auto;position:fixed;left:35%; top:20%'>
	<table>
		<tr>
			<td class='tdr'>Text:</td>
			<td class='tdl'><textarea rows='2' id='textPopupVal' oninput='Modes.TextTool.updateCurrentText(event)' style="font-family: 'Times New Roman';font-size:18pt" placeholder='Write your text here'></textarea></td>
		</tr>
		<tr>
			<td class='tdr'>Vertical Text:</td>
			<td class='tdl'><input type="checkbox" id="drawVerticalText" >Draw text vertically</td>
		</tr>
		<tr>
			<td class='tdr'>Font Size</td>
			<td class='tdl'><input type='number' value='40' id='textPopupFontSize'/></td>
		</tr>
        <tr>
			<td class='tdr'>Justification:</td>
			<td class='tdl'>
				<input type="radio" id="textPopupLeft" checked='checked' name="textPopupJustify" value="left" >
				<label for="textPopupLeft">Left</label>
				<input type="radio" id="textPopupCenter" name="textPopupJustify" value="center" >
				<label for="textPopupCenter">Center</label>
				<input type="radio" id="textPopupRight" name="textPopupJustify" value="right" >
				<label for="textPopupRight">Right</label>
			</td>
		</tr>
		<tr>
			<td class='tdr'>Font</td>
			<td class='tdl'><select id="textPopupFont" onchange="Modes.TextTool.changeFontPopup(event, 'textPopupVal')">
				<option value='Times New Roman'>Times New Roman</option>
				<option value='Arial'>Arial</option>
				<option value='Helvetica'>Helvetica</option>
				<option value='mono'>Monospace</option>
				<option value='blacklet'>Handwritten Calligraphy</option>
				<option value='handwriting_main'>Handwritten</option>
				<option value='arush_shiny'>Arush Shiny</option>
				<option value='castaway'>Castaway Fill</option>
				<option value='castaway_inline'>Castaway Inline</option>
				<option value='decorative_stencil'>Decorative Stencil</option>
				<option value='gamejot'>Gamejot</option>
				<option value='nerik'>Nerik</option>
				<option value='pioneer'>Pioneer</option>
				<option value='Metal_Mania'>Metal Mania</option>
				<option value='Bangers'>Bangers</option>
				<option value='Hobbiton'>Hobbiton Brush Hand</option>
				<option value='Tengwar'>Tengwar Annatar</option>
				<option value='Tengwar_i'>Tengwar Annatar Italic</option>
				<option value='Rune'>Rune</option>
				</select></td>
		</tr>
	</table>
	<button type="button" class="canvBtn" onclick="doodler.applyTextPopup()">Okay</button>
	<button type="button" class="canvBtn" onclick="doodler.cancelTextPopup();doodler.popupShowing=false;">Cancel</button>
</div>

<div id='textEditPopup' style='border-style:double;background-color:#fff;display:none;z-index:10000;width:auto;height:auto;position:fixed;left:35%; top:20%'>
	<table>
		<tr>
			<td class='tdr'>Text:</td>
			<td class='tdl'><textarea style='font-size:18pt;' rows='2' id='textEditVal' placeholder='Write your text here'></textarea></td>
		</tr>
		<tr>
			<td class='tdr'>Vertical Text:</td>
			<td class='tdl'><input type="checkbox" id="textEditVert" >Draw text vertically</td>
		</tr>
		<tr>
			<td class='tdr'>Font Size</td>
			<td class='tdl'><input type='number' value=14 id='textEditFontSize'/></td>
		</tr>
        <tr>
			<td class='tdr'>Justification:</td>
			<td class='tdl'>
				<input type="radio" id="textEditLeft" checked='checked' name="textEditJustify" value="left" >
				<label for="textEditLeft">Left</label>
				<input type="radio" id="textEditCenter" name="textEditJustify" value="center" >
				<label for="textEditCenter">Center</label>
				<input type="radio" id="textEditRight" name="textEditJustify" value="right" >
				<label for="textEditRight">Right</label>
			</td>
		</tr>
		<tr>
			<td class='tdr'>Font</td>
			<td class='tdl'><select id="textEditFont" onchange="Modes.TextTool.changeFontPopup(event, 'textEditVal')">
				<option value='Times New Roman'>Times New Roman</option>
				<option value='Arial'>Arial</option>
				<option value='Helvetica'>Helvetica</option>
				<option value='mono'>Monospace</option>
				<option value='blacklet'>Handwritten Calligraphy</option>
				<option value='handwriting_main'>Handwritten</option>
				<option value='arush_shiny'>Arush Shiny</option>
				<option value='castaway'>Castaway Fill</option>
				<option value='castaway_inline'>Castaway Inline</option>
				<option value='decorative_stencil'>Decorative Stencil</option>
				<option value='gamejot'>Gamejot</option>
				<option value='nerik'>Nerik</option>
				<option value='pioneer'>Pioneer</option>
				<option value='Metal_Mania'>Metal Mania</option>
				<option value='Bangers'>Bangers</option>
				<option value='Hobbiton'>Hobbiton Brush Hand</option>
				<option value='Tengwar'>Tengwar Annatar</option>
				<option value='Tengwar_i'>Tengwar Annatar Italic</option>
				<option value='Rune'>Rune</option>
				</select></td>
		</tr>
	</table>
	<input type='number' value=0 id='textEditId' style="display:none"/>
	<button type="button" class="canvBtn" onclick="doodler.applyEditTextPopup()">Okay</button>
	<button type="button" class="canvBtn" onclick="doodler.applyDeleteTextPopup()">Delete</button>
	<button type="button" class="canvBtn" onclick="doodler.applyCancelTextPopup()">Cancel</button>
</div>

<div id='wallEditPopup' style='border-style:double;background-color:#fff;display:none;z-index:10000;width:auto;height:auto;position:fixed;left:35%; top:20%'>
	<table>
		<tr>
			<td class='tdr'>Width in feet: </td>
			<td class='tdl'><input type="number" id="wallEditWidth" ></td>
		</tr>
		<tr>
			<td class='tdr'>Height in feet: </td>
			<td class='tdl'><input type='number' id='wallEditHeight'/></td>
		</tr>
	</table>
	<input type='number' value=0 id='wallEditId' style="display:none"/>
	<button type="button" class="canvBtn" onclick="doodler.applyEditWallPopup()">Okay</button>
	<button type="button" class="canvBtn" onclick="doodler.applyDeleteWallPopup()">Delete</button>
	<button type="button" class="canvBtn" onclick="doodler.applyCancelWallPopup()">Cancel</button>
</div>

<div id='locEditPopup' style='border-style:double;background-color:#fff;display:none;z-index:10000;width:auto;height:auto;position:fixed;left:35%; top:20%'>
	<table>
		<tr>
			<td class='tdr'>Width in feet: </td>
			<td class='tdl'><input type="number" id="locEditWidth" ></td>
		</tr>
		<tr>
			<td class='tdr'>Height in feet: </td>
			<td class='tdl'><input type='number' id='locEditHeight'/></td>
		</tr>
		<tr>
			<td class='tdr'>Location: </td>
			<td class='tdl' id="locEditCell"></td>
		</tr>
	</table>
	<input type='number' value=0 id='locEditId' style="display:none"/>
	<input type='number' value=0 id='locEditDeleteOnCancel' style="display:none"/>
	<button type="button" class="canvBtn" onclick="doodler.applyEditLocPopup()">Okay</button>
	<button type="button" class="canvBtn" onclick="doodler.applyDeleteLocPopup()">Delete</button>
	<button type="button" class="canvBtn" onclick="doodler.applyCancelLocPopup()">Cancel</button>
</div>
	
<div id='imageSavePopup' class='popupPanel' style='text-align: center'>
	<h2>Export Image File</h2>
	<table>
		<tr>
			<td class='tdr'>File Name:</td>
			<td class='tdl'>
				<input type="text" id="imageSaveName" value='DungeonMapDoodle' >
			</td>
		</tr>
		<tr>
			<td class='tdr'>Background Colour:</td>
			<td class='tdl'><!--<input type='color' value='rgb()' id='imageSaveColor'/>-->
				<input type="radio" id="imageSaveColorWhite" name="imageSaveColor" checked='checked' value="color" >
				<label for="imageSaveColorWhite">Coloured <input type='color' value='#ffffff' id='imageSaveColorColor'></label><br>
				<input type="radio" id="imageSaveColorTrans" name="imageSaveColor" value="rgba(0,0,0,0)" >
				<label for="imageSaveColorTrans">Transparent</label><br>
			</td>
		</tr>
        <tr>
			<td class='tdr'>File Type:</td>
			<td class='tdl'>
				<input type="radio" id="imageSaveFilePng" checked='checked' name="imageSaveFile" value="image/png" >
				<label for="imageSaveFilePng">PNG</label>
				<input type="radio" id="imageSaveFileJpeg" name="imageSaveFile" value="image/jpeg" >
				<label for="imageSaveFileJpeg">JPG</label>
				<input type="radio" id="imageSaveFileBmp" name="imageSaveFile" value="image/bmp" >
				<label for="imageSaveFileBmp">BMP</label>
			</td>
		</tr>
	</table>
	<button type="button" class="canvBtn" onclick="doodler.saveImageConfirm()">Save</button>
	<button type="button" class="canvBtn" onclick="doodler.saveImageConfirm(true)">Print</button>
	<button type="button" class="canvBtn" onclick="doodler.unpop('imageSavePopup');doodler.popupShowing=false;">Cancel</button>
</div>
    
<div id='imageExportPopup' class='popupPanel' style='text-align: center'>
	<h2>Publish Image File</h2>
	<table>
        <tr><td colspan="2">This will publish your map image to fictionalmaps.com, an online map viewer similar to Google Maps</td></tr>
		<tr>
			<td class='tdr'>File Name:</td>
			<td class='tdl'>
				<input type="text" id="imageExportName" value='DungeonMapDoodle' >
			</td>
		</tr>
		<tr>
			<td class='tdr'>Background Colour:</td>
			<td class='tdl'><!--<input type='color' value='rgb()' id='imageSaveColor'/>-->
				<input type="radio" id="imageExportColorWhite" name="imageExportColor" checked='checked' value="color" >
				<label for="imageExportColorWhite">Coloured <input type='color' value='#ffffff' id='imageExportColorColor'></label><br>
				<input type="radio" id="imageExportColorTrans" name="imageExportColor" value="rgba(0,0,0,0)" >
				<label for="imageExportColorTrans">Transparent</label><br>
			</td>
		</tr>
        <div style='width:100%'><div id="exportWait" class="loader" style="display:none;"></div></div>
	</table>
	<button type="button" class="canvBtn" onclick="doodler.exportImageConfirm()">Publish</button>
	<button type="button" class="canvBtn" onclick="doodler.unpop('imageExportPopup');doodler.popupShowing=false;">Cancel</button>
</div>
    
<div id='randomGenPopup' class='popupPanel' style='text-align: center'>
	<h2>Generate Random Dungeon</h2>
	<table><!-- //Options from user
        //Width
        //Height
        //Linear/Sprawling, number of rooms, room size -->
        <!--<tr><td colspan="2">Use these parameters to edit </td></tr>-->
        <tr><td colspan="2">Use this to create a randomly generated dungeon. Changing the parameters below will affect the generated dungeon. You can also use Ctrl 0 to keep generating new ones without returning to this popup.</td></tr>
		<tr>
			<td class='tdr'>Width:</td>
			<td class='tdl'>
				<input type="number" id="randomGenWidth" value='30' min="15" >
			</td>
		</tr>
        <tr>
			<td class='tdr'>Height:</td>
			<td class='tdl'>
				<input type="number" id="randomGenHeight" value='30' min="15" >
			</td>
		</tr>
        <tr>
			<td class='tdr'>Number of Rooms:</td>
			<td class='tdl'>
				<input type="number" id="randomGenNumRooms" value='15' >
			</td>
		</tr>
        <tr>
			<td class='tdr'>Room Size:</td>
			<td class='tdl'>
				<input type="number" id="randomGenRoomSize" value='6' >
			</td>
		</tr>
        <tr>
			<td class='tdr'>Amount of Content:</td>
			<td class='tdl'>
                <input type="radio" id="randomGenStuffNone"  name="randomGenStuff" value="0" >
				<label for="randomGenStuffNone">None</label>
				<input type="radio" id="randomGenStuffSome" name="randomGenStuff" value="1" >
				<label for="randomGenStuffSome">Some</label>
				<input type="radio" id="randomGenStuffLots" checked='checked' name="randomGenStuff" value="2" >
				<label for="randomGenStuffLots">Lots</label>
			</td>
		</tr>
        <tr>
			<td class='tdr'>Include Monsters:</td>
			<td class='tdl'>
				<input type="checkbox" checked='checked' id="randomGenAddMonsters"  >
			</td>
		</tr>
		
        <div style='width:100%'><div id="exportWait" class="loader" style="display:none;"></div></div>
	</table>
	<button type="button" class="canvBtn" onclick="doodler.generateDungeon()">Generate Dungeon</button>
	<button type="button" class="canvBtn" onclick="doodler.unpop('randomGenPopup');doodler.popupShowing=false;">Cancel</button>
</div>

    <div id='worldGenPopup' class='popupPanel' style='text-align: center'>
	<h2>Generate Random World</h2>
	<table><!-- //Options from user
        //Width
        //Height
        //Linear/Sprawling, number of rooms, room size -->
        <!--<tr><td colspan="2">Use these parameters to edit </td></tr>-->
        <tr><td colspan="2">Use this to create a randomly generated world. Changing the parameters below will affect the generated dungeon. You can also use Ctrl 9 to keep generating new ones without returning to this popup.</td></tr>
		<tr>
			<td class='tdr'>Width:</td>
			<td class='tdl'>
				<input type="number" id="worldGenWidth" value='30' min="15" >
			</td>
		</tr>
        <tr>
			<td class='tdr'>Height:</td>
			<td class='tdl'>
				<input type="number" id="worldGenHeight" value='30' min="15" >
			</td>
		</tr>
        <tr>
			<td class='tdr'>Seed:</td>
			<td class='tdl'>
				<input type="text" id="worldGenSeed" value='123456789'  >
                <button class="canvBtn" onclick="doodler.randomSeed()">Random Seed</button>
			</td>
		</tr>
		<tr>
			<td class='tdr'>Resolution (Lower is better):</td>
			<td class='tdl'>
				<input type="number" id="worldGenResolution" value='15' min="5" max="1000" step="1" onchange="doodler.previewWorld()" >
			</td>
		</tr>
		<tr>
			<td class='tdr'>Exponent:</td>
			<td class='tdl'>
				<input type="number" id="worldGenExponent" value='1.4' min="0" max="10" step="0.1"  onchange="doodler.previewWorld()">
			</td>
		</tr>
		<tr>
			<td class='tdr'>Thresholds:</td>
			<td class='tdl'>
				Sand <input type="number" id="worldGenL1" value='0.4' min="0" max="0.99" step="0.01" style="width:60px;" onchange="doodler.previewWorld()" ><br>
				Grass <input type="number" id="worldGenL2" value='0.5' min="0" max="0.99" step="0.01" style="width:60px;" onchange="doodler.previewWorld()" ><br>
				Rock <input type="number" id="worldGenL3" value='0.6' min="0" max="0.99" step="0.01" style="width:60px;" onchange="doodler.previewWorld()" ><br>
				Snow <input type="number" id="worldGenL4" value='0.7' min="0" max="0.99" step="0.01" style="width:60px;" onchange="doodler.previewWorld()" ><br>
			</td>
		</tr>
        
		
	</table>
        <button  class="canvBtn" onclick="doodler.previewWorld()">Preview</button>
        <div id='worldPreviewContainer'><img id='worldPreviewImg' width="300px" style="image-rendering: crisp-edges;"> </div>
        
        <div style='width:100%'><div id="worldWait" class="loader" style="display:none;"></div></div>
	<button type="button" class="canvBtn" onclick="doodler.generateWorld()">Generate World</button>
	<button type="button" class="canvBtn" onclick="doodler.unpop('worldGenPopup');doodler.popupShowing=false;">Cancel</button>
</div>
    
<div id='donJonPopup' class='popupPanel' style='text-align: center'>
	<h2>Import donjon Dungeon</h2>
	<table>
        <tr><td colspan="2">Edit any parameters before importing map from donjon</td></tr>
		<tr>
			<td class='tdr'>Wall Thickness:</td>
			<td class='tdl'><input type="number" id="donJonBorder" value='3' ></td>
		</tr>
        <tr>
			<td class='tdr'>Grid Outset:</td>
			<td class='tdl'><input type="number" id="donJonInset" value='0' ></td>
		</tr>
		<tr>
			<td class='tdr'>Fill Colour:</td>
			<td class='tdl'><input type='color' value='#ffffff' id='donJonFillColor'></td>
		</tr>
		<tr>
			<td class='tdr'>Wall Colour:</td>
			<td class='tdl'><input type='color' value='#000000' id='donJonWallColor'></td>
		</tr>
	</table>
	<button type="button" class="canvBtn" onclick="doodler.applyDonJonPopup()">Okay</button>
	<button type="button" class="canvBtn" onclick="doodler.unpop('donJonPopup');doodler.popupShowing=false;">Cancel</button>
</div>
    
<div style='display: none'>
    <form id='fictionalMapsForm' action="https://fictionalmaps.com/wp-content/plugins/fictional-maps-handler/php/receiver/xs_receiver.php" method="post" enctype="multipart/form-
    data">
    <input type="text" name="map_name" id="map_name"/>
    <input type="hidden" name="origin" id="origin" value="DMD"/>
    <input type="hidden" name="claim_token" id="claim_token" value=""/>
    <input type="hidden" name="security_token" id="security_token" value=""/>
    <!--<input type="file" name="map_file" id="map_file" />-->
    <input type="submit" value="Publish to Fictionalmaps.com" name="publish"
    id="fictionalMapSubmit"/>
    </form>
</div>
	
<div id='creditPopup' style='border-style:double;background-color:#fff;display:none;z-index:5000;width:auto;height:auto;position:fixed;left:35%; top:20%'>
	<h2>Credits</h2>
	<a href="https://www.freepik.com/free-photos-vectors/background">Background vector created by 0melapics - www.freepik.com</a>
    <a href='https://www.freepik.com/free-photos-vectors/background'>Background vector created by 0melapics - www.freepik.com</a>
</div>

<div id='dimensionPopup' class='newPopupPanel' style='display:none;text-align: center'>
    <h2>Create New Map</h2>
	<table>
        <tr><td colspan="2">
            <label>
              <input class='radioImg' type="radio" name="dimensionMapType" value="dungeon" checked>
              <img style='width:150px;height:150px' src="images/HandDrawn.png" alt="Dungeon Map">
            </label>

            <label>
              <input class='radioImg' type="radio" name="dimensionMapType" value="world">
              <img style='width:150px;height:150px' src="images/worldmap.png" alt="World Map">
            </label>
            </td>
        </tr>
        <tr><td colspan="2">
            <label>
              <input class='radioImg' onclick='doodler.clickDimension(60)' type="radio" name="dimensionMapSize" value="small">
              <img style='width:80px;height:40px' src="images/leftclickk.png" alt="Small (840x840px)">
            </label>
            <label>
              <input class='radioImg' onclick='doodler.clickDimension(100)' type="radio" name="dimensionMapSize" value="medium" checked>
              <img style='width:80px;height:40px' src="images/leftclickk.png" alt="Medium (1400x1400px)">
            </label>
            </td>
        </tr>
        <tr><td colspan="2">
            <label>
              <input class='radioImg' onclick='doodler.clickDimension(150)' type="radio" name="dimensionMapSize" value="big">
              <img style='width:80px;height:40px' src="images/leftclickk.png" alt="Big (2100x2100px)">
            </label>
            <label>
              <input class='radioImg' onclick='doodler.clickCustomDimension()' type="radio" name="dimensionMapSize" value="custom">
              <img style='width:80px;height:40px' src="images/leftclickk.png" alt="Custom">
            </label>
            </td>
        </tr>
    </table>
    <details id="dimensionDetails">
    <summary>Advanced Dimensions</summary>
    
    <table>
		<tr>
			<td class='tdr'>Width in Feet:</td>
			<td class='tdl'><input type="number" id="dimensionPopupX" value='10' oninput='doodler.recalcSize()'></td>
		</tr>
		<tr>
			<td class='tdr'>Height in Feet:</td>
			<td class='tdl'><input type="number" id="dimensionPopupY" value='10' oninput='doodler.recalcSize()'></td>
		</tr>
        <tr>
			<td class='tdr'>Feet Per Box:</td>
			<td class='tdl'><input type="number" value='5' id="dimensionPopupStep"  oninput='doodler.recalcSize()'></td>
		</tr>
        <tr>
			<td class='tdr'>Box Size in Pixels:</td>
			<td class='tdl'><input type="number" value='5' id="dimensionPopupBoxSize"  oninput='doodler.recalcSize()'></td>
		</tr>
		<tr>
			<td class='tdr'>Rough Grid Lines:</td>
			<td class='tdl'><input type="checkbox" id="dimensionPopupBoxIsRough" ></td>
		</tr>
        </table>
    </details>
    <table>
        <tr><td colspan='2' id='dimensionSize' style="font-size: 135%;"></td></tr>
        <tr id='newMapWarn'><td colspan='2'>Warning: this will clear out any doodles you currently have, <br>be sure to save</td></tr>
	</table>
	<button type="button" class="canvBtn" onclick="doodler.applyDimensions()">Okay</button>
	<button type="button" class="canvBtn" onclick="ir.hide('dimensionPopup');doodler.popupShowing=false;">Cancel</button>
</div>

<div id='layerNamePop' class='newPopupPanel' style='display:none;text-align: center'>
    <h2>Change Layer Name</h2>
	<table>
		<tr>
			<td class='tdr'>Name:</td>
			<td class='tdl'><input type="text" id="layerName" ></td>
		</tr>		
	</table>
    
	<button type="button" class="canvBtn" onclick="doodler.applyLayerName()">Okay</button>
	<button type="button" class="canvBtn" onclick="ir.hide('layerNamePop');doodler.popupShowing=false;">Cancel</button>
</div>
	
<div style='display:none'>
	<a id='link'></a>
	<input type='file' id="stampUpload" accept="image/gif, image/jpeg, image/png, image/svg"/>
</div>
	
<div class='floatingControlsLeft' onmouseover='doodler.centerMouse()'>
	<div class='floatBtn' onclick="doodler.zoom(1, true, true)"><img title="Zoom In" src='images/plus.png' width='40px' height='40px'></div>
	<div class='floatBtn' onclick="doodler.zoom(-1, true, true)"><img title="Zoom Out" src='images/minus.png' width='40px' height='40px'></div>
	<div id='zoomSizeLabel' style='font-size: 9pt'></div>
	<div class='floatBtn' onclick="doodler.undo()"><img title='Undo' src='images/undo.png' width='40px' height='40px'></div>
	<div class='floatBtn' onclick="doodler.redo()"><img title="Redo" src='images/redo.png' width='40px' height='40px'></div>
	<!--<button type="button" class="canvBtn" onclick="doodler.pop('hatchPopup');doodler.popupShowing = true;">Select Texture</button>-->
	<br>
    <div class="tooltipParent">
        <div class="toggle">
            <input type="radio" name="drawFGBG" value="0" id="drawFG" checked="checked" />
            <label for="drawFG">Foreground</label>
            <input type="radio" name="drawFGBG" value="1" id="drawBG" />
            <label for="drawBG">Background</label>
        </div>
        <div class="tooltipError">Click to choose which layer to draw on</div>
    </div>
    <div class="tooltipParent">
        <div class='textureImgWrap'>
            <div class='textureImg' id='foregroundTexture' onclick="doodler.doBackground=2;doodler.pop('hatchPopup');doodler.popupShowing = true;" style='background-image: url("hatches/d2.JPG")'></div>
            <div class='textureImg' id='backgroundTexture' onclick="doodler.doBackground=1;doodler.pop('hatchPopup');doodler.popupShowing = true;" style='background-image: url("hatches/w2.JPG")'></div>
        </div>
        <div class="tooltipError">Select texture to use when drawing</div>
    </div>
    <div class="tooltipParent">
        <input type='checkbox' id='hatchingFullHatch' onclick='Modes.Hatching.changeFullHatch()'><label for='hatchingFullHatch'>Full Background Texture</label><br>
        <div class="tooltipError">Disable to draw various different background textures</div>
    </div>
    <br>
    <div class="tooltipParent">
        Dynamic Brush Type:
        <select id='dynamicBrushSelect' onchange='doodler.setDynamicBrush(event)' >
            <option value='none'>None</option>
            <option value='ripple1'>Island Coastline</option>
            <option value='displacementFilter' selected="selected">Rough Coastline</option>
            <option value='displacementFilter2'>Coastline</option>
            <option value='noise'>Noisy</option>
            <option value='squiggly-1'>Squiggly</option>
            <option value='blur'>Blurred Edge</option>
            
        </select>
        <div class="tooltipError">Dynamic brushes allow you to draw detailed, natural looking terrain with all the drawing tools</div>
    </div>
    <br>
    <details>
    <summary>Advanced Brush Settings</summary>
        <div class="tooltipParent">
            Brush Turbulence<br>
            <input class='marginLeftRange' type='range' onchange="doodler.changeBrushTurbulence(event)" oninput='doodler.changeBrushTurbulence(event)' min="1" max="8" value="3" step="1"><br><br>
            <div class="tooltipError">Turbulence changes the level of detail in the brush</div>
        </div>
        <div class="tooltipParent">
            Brush Base Frequency<br>
            <input class='marginLeftRange' type='range' onchange="doodler.changeBrushBaseFreq(event)" oninput='doodler.changeBrushBaseFreq(event)' min="0.005" max="0.1" value="0.02" step="0.001"><br><br>
        <div class="tooltipError">Base Frequency changes the overall roughness of the brush shape</div>
        </div>
    </details>
    <div class="tooltipParent">
        <input type='checkbox' id='fancyOutline' checked=checked onchange="doodler.toggleFancyOutlines(event)" ><label for='fancyOutline'>Enable Fancy Outline</label><br>
        <div class="tooltipError">Enable/Disable the Soft Shadow and Outline around Foreground</div>
    </div>
    <hr>				
    <div class="tooltipParent">
        Soft Shadow &emsp;<input type='color' value='#ffffff' id='snapToGridFillColor' onchange="Modes.SnapToGrid.changeColor(event, 'fill')"><br>
        <input class='marginLeftRange' type='range' id='softShadowRange' onchange="doodler.setSoftShadowSize()" oninput='doodler.setSoftShadowSize()' min="0" max="150" value="50" step="1"><br><br>
        <div class="tooltipError">Change size of soft shadow around Foreground</div>
    </div>
    <hr>
    <div class="tooltipParent">
        Outline &emsp;<input type='color' value='#000000' id='snapToGridOutlineColor' onchange="Modes.SnapToGrid.changeColor(event, 'outline')"><br>
        <input class='marginLeftRange' type='range' id='outlineRange' onchange="doodler.setOutlineSize()" oninput='doodler.setOutlineSize()' min="-10" max="10" value="1" step="1"><br><br>
        <div class="tooltipError">Change size of outline around Foreground. To the right increases thickness in all directions, to the left increases only in top left direction</div>
    </div>
    
</div>	

<div class='bottomBarWrapper'>
	<div class="bottomBarInner">
		<div id="bottomBarLeft" class="bottomTextBox">
		</div>
		<div id="bottomBarShortcuts" class="bottomTextBox">
			Zoom &thinsp; <img src='images/scroll.png'> &emsp; Draw &thinsp; <img src='images/leftclick.png'>

		</div>
		<div id="bottomBarRight" class="'bottomTextBox">
		</div>
	</div>
</div>
    
<div id="errorBox" style='display:none;position:fixed;bottom:0;left:0;right:0;width:100%;height:80px;background-color:azure'></div>
	
	
<div class="floatingModes popup" id='floatingModes'>
	<button id='dockOpenCloseBtn' class='modeBtn' style='background-color:ghostwhite;padding:0;margin-left: 0px;float:left;outline:none;' type="button" onclick="doodler.toggleDockOpen()"><img id='dockOpenCloseImg' src="close.png" width='32px' height='32px'></button>
	<div class='floatingContainer' onmouseover="doodler.centerMouse()">
        <details open id='globalDetails'>
            <summary>Global Options</summary>
			<button type='button' onclick='doodler.showStylePopup()'>Choose Style</button>
            <div class='paramTitle' style='display:none'>Style Preset</div><select id='stylePresetSelect' style='max-width:140px;display:none' onchange='doodler.changeStylePreset(event)'>
            </select><br>
            <div class='paramTitle'>Overlay</div><br><select id='overlayStyle' style='max-width:140px;' onchange='doodler.changeOverlayStyle(event)'>
			<option name='' value=''>None</option>
			<option name='Parchment White' value='overlays/white-parchment-paper-texture.jpg'>Parchment White</option>
			<option name='Parchment Yellow' value='overlays/parchment-paper-light-texture.jpg'>Parchment Yellow</option>
			<option name='Parchment Charcoal' value='overlays/charcoal-parchment.jpg'>Parchment Charcoal</option>
			<option name='Parchment Gray' value='overlays/gray-parchment.jpg'>Parchment Gray</option>
			<option name='Parchment Black' value='overlays/black-parchment.jpg'>Parchment Black</option>
			<!--<option name='Leaf' value='overlays/leaf-texture.jpg'>Leaf</option>-->
			<option name='Sandstone' value='overlays/tan-sandstone-texture.jpg'>Sandstone</option>
			<option name='Wood' value='overlays/wood-grain.jpg'>Wood Grain</option>
			<option name='Barn' value='overlays/barn-board.jpg'>Barn Board</option>
			<option name='Metal' value='overlays/metal-texture.jpg'>Metal</option>
			<option name='Brick' value='overlays/brick-texture.jpg'>Brick</option>
			<option name='Stucco' value='overlays/textured-stucco-wall-white.jpg'>Stucco Wall</option>
			<option name='Woven' value='overlays/white-woven-fabric-close-up-texture.jpg'>Woven Fabric</option>
			<option name='Blueprint' value='overlays/blueprint.png'>Blueprint</option>
            </select><br>
            <div class='paramTitle'>Blend Mode</div><br><select id='overlayBlend' style='max-width:140px;' onchange='doodler.changeOverlayBlend(event)'>
			<option name='Multiply' value='multiply'>Multiply</option>
			<option name='Lighter' value='lighter'>Lighter</option>
			<option name='Lighten' value='lighten'>Lighten</option>
			<option name='Screen' value='screen'>Screen</option>
			<option name='Darken' value='darken'>Darken</option>
			<option name='Overlay' value='overlay'>Overlay</option>
			<option name='Colour Dodge' value='color-dodge'>Colour Dodge</option>
			<option name='Colour Burn' value='color-burn'>Colour Burn</option>
			<option name='Difference' value='difference'>Difference</option>
			<option name='Hue' value='hue'>Hue</option>
			<option name='Saturation' value='saturation'>Saturation</option>
			<option name='Colour' value='color'>Colour</option>
			<option name='Luminosity' value='luminosity'>Luminosity</option>
            </select>
			<div class='paramTitle'><label for='drawRoughCheck'>Rougher Lines</label></div><input type='checkbox' id='drawRoughCheck' onchange='doodler.checkRough(event);'>
			<div class='paramTitle'>Background Colour</div><input type='color' id='backgroundColor' onchange='doodler.changeBackgroundColor(event)'>
        </details>
		<details open id='layerDetails'>
			<summary>Layer Options</summary>
			<div id="layerList"></div>
			<div class='layerBtns'>
				<div class='modeBtn' title="Add Layer" onclick='doodler.addLayer()'><img src="images/layeradd.png" width='32px' height='32px'></div><div class='modeBtn' title="Delete Layer" onclick='doodler.deleteLayer()'><img src="images/layerdelete.png" width='32px' height='32px'></div><div class='modeBtn' title="Raise Layer" onclick='doodler.raiseLayer()'><img src="images/raise.png" width='32px' height='32px'></div><div class='modeBtn' title="Lower Layer" onclick='doodler.lowerLayer()'><img src="images/lower.png" width='32px' height='32px'></div>
				</div>
		</details>
		<details open id='toolDetails'>
			<summary>Tool Options</summary>
			<div id='toolFlexbox' style='display:flex'>
				<div class='floatingBtns'>
                    <div class='modeBtn tooltip' title="Move" id='modeMove' onmouseover='doodler.hoverHelp(event)' onclick='doodler.clickMode(event)'><div class="left"><h3>Move</h3><ul><li>[M] to select tool</li><li>Click and drag to pan around canvas</li></ul><i></i></div><img id='imgmMove' src="move.png" width='32px' height='32px'></div>
                    <div class='modeBtn tooltip' title="Free Draw/Terrain Tool" id='modeDoodle' onmouseover='doodler.hoverHelp(event)' onclick='doodler.clickMode(event)'><div class="left"><h3>Free Draw</h3><ul><li>[D] to select tool</li><li>Draw freely around the canvas</li></ul><i></i></div><img id='imgmDoodle' src="doodle.png" width='32px' height='32px'></div>
                    <div class='modeBtn tooltip' title="Snap To Grid" id='modeSnapToGrid' onmouseover='doodler.hoverHelp(event)' onclick='doodler.clickMode(event)'><div class="left"><h3>Snap To Grid</h3><ul><li>[G] to select tool</li><li>Draw locked to the grid</li></ul><i></i></div><img id='imgmSnapToGrid' src="snaptogrid.png" width='32px' height='32px'></div>
                    <div class='modeBtn tooltip' title="Hatching/Painting Tool" id='modeHatching' onmouseover='doodler.hoverHelp(event)' onclick='doodler.clickMode(event)'><div class="left"><h3>Paint Tool</h3><ul><li>[H] to select tool</li><li>Use to fill in drawn areas with new textures without altering the shape of your map</li></ul><i></i></div><img id='imgmHatching' src="hatch.png" width='32px' height='32px'></div>
                    <div class='modeBtn tooltip' title="Line Tool" id='modeLine' onmouseover='doodler.hoverHelp(event)' onclick='doodler.clickMode(event)'><div class="left"><h3>Line Tool</h3><ul><li>[L] to select tool</li><li>Click and drag to draw straight line</li></ul><i></i></div><img id='imgmLine' src="line.png" width='32px' height='32px'></div>
                    <div class='modeBtn tooltip' title="Wall Tool" id='modeWall' onmouseover='doodler.hoverHelp(event)' onclick='doodler.clickMode(event)'><div class="left"><h3>Interior Wall Tool</h3><ul><li>[W] to select tool</li><li>Click and drag to draw straight walls inside of a room</li></ul><i></i></div><img id='imgmWall' src="wall.png" width='32px' height='32px'></div>
                    <div class='modeBtn tooltip' title="Room Tool" id='modeRoomTool' onmouseover='doodler.hoverHelp(event)' onclick='doodler.clickMode(event)'><div class="left"><h3>Room Tool</h3><ul><li>[R] to select tool</li><li>Click and drag to select entire room at once, release to draw</li><li>Hold Shift to enable subtractive mode</li></ul><i></i></div><img id='imgmRoomTool' src="roomtool.png" width='32px' height='32px'></div>
                    <div class='modeBtn tooltip' title="Shape Tool" id='modeShapeTool' onmouseover='doodler.hoverHelp(event)' onclick='doodler.clickMode(event)'><div class="left"><h3>Shape Tool</h3><ul><li>[P] to select tool</li><li>Click and drag to draw shape, starting point will be the center of the shape, drag outwards to change size and rotation</li><li>Hold Shift to enable subtractive mode</li></ul><i></i></div><img id='imgmShapeTool' src="shapetool.png" width='32px' height='32px'></div>
                    <div class='modeBtn tooltip' title="Stamps" id='modeStampTool' onmouseover='doodler.hoverHelp(event)' onclick='doodler.clickMode(event)'><div class="left"><h3>Stamps</h3><ul><li>[S] to select tool</li><li>Click to place a stamp. Click an already placed stamp to select it. Drag red circle to rotate stamp.</li><li>Hold Shift to toggle between snapping and not</li></ul><i></i></div><img id='imgmStampTool' src="stamp.png" width='32px' height='32px'></div>
                    <div class='modeBtn tooltip' title="Text Tool" id='modeTextTool' onmouseover='doodler.hoverHelp(event)' onclick='doodler.clickMode(event)'><div class="left"><h3>Text Tool</h3><ul><li>[T] to select tool</li><li>Click to create a text object. Click existing text object to edit and delete. Click and drag a text object to move</li></ul><i></i></div><img id='imgmTextTool' src="images/texttool.png" width='32px' height='32px'></div>
                    <div class='modeBtn tooltip' title="Erase" id='modeErase' onmouseover='doodler.hoverHelp(event)' onclick='doodler.clickMode(event)'><div class="left"><h3>Erase</h3><ul><li>[E] to select tool</li><li>Use the erase tool to erase floors, outlines, hatching and stamps. Checkboxes are available to choose exactly what you want to erase</li></ul><i></i></div><img id='imgmErase' src="erase.png" width='32px' height='32px'></div>
				</div>
				<div class='paramBox' id='paramBox'></div>
			</div>
		</details>
	</div>
</div>	
	
	
	
<div id='passwordPrompt' style='padding-top:80px;text-align: center;display:none;position:fixed;width:100%;height:100%;left:0;top:0;background-color:white;'>
	
	Please enter the password to access Dungeon Map Doodler beta
	<div style='margin-left:auto;margin-right:auto;width:30%'><table>
		<tr>
			<td class='tdr'>Password</td>
			<td class='tdl'><input type='text'  id='passwordPromptInput'/></td>
		</tr>
		<tr>
			<td colspan='2' class='tdc' id='passwordError'></td>
		</tr>
		<tr>
			<td><button type="button" class="canvBtn" onclick="doodler.showPasswordPromptCallback()">Okay</button></td>
		</tr>
	</table></div>
	
</div>
    
    
    
<svg id="svgfilters" aria-hidden="true" style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
		<defs>
            <filter id="blur">
          <feGaussianBlur stdDeviation="15"/>
        </filter>

			<filter id="teal-white" x="-10%" y="-10%" width="120%" height="120%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
				<feColorMatrix type="matrix" values=".33 .33 .33 0 0
					.33 .33 .33 0 0
					.33 .33 .33 0 0
					0 0 0 1 0" in="SourceGraphic" result="colormatrix"></feColorMatrix>
				<feComponentTransfer in="colormatrix" result="componentTransfer">
					<feFuncR type="table" tableValues="0.03 1"></feFuncR>
					<feFuncG type="table" tableValues="0.57 1"></feFuncG>
					<feFuncB type="table" tableValues="0.49 1"></feFuncB>
					<feFuncA type="table" tableValues="0 1"></feFuncA>
				</feComponentTransfer>
				<feBlend mode="normal" in="componentTransfer" in2="SourceGraphic" result="blend"></feBlend>
			</filter>
			<filter id="teal-lightgreen" x="-10%" y="-10%" width="120%" height="120%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
				<feColorMatrix type="matrix" values=".33 .33 .33 0 0
					.33 .33 .33 0 0
					.33 .33 .33 0 0
					0 0 0 1 0" in="SourceGraphic" result="colormatrix"></feColorMatrix>
				<feComponentTransfer in="colormatrix" result="componentTransfer">
					<feFuncR type="table" tableValues="0.03 0.8"></feFuncR>
					<feFuncG type="table" tableValues="0.57 1"></feFuncG>
					<feFuncB type="table" tableValues="0.49 0.53"></feFuncB>
					<feFuncA type="table" tableValues="0 1"></feFuncA>
				</feComponentTransfer>
				<feBlend mode="normal" in="componentTransfer" in2="SourceGraphic" result="blend"></feBlend>
			</filter>
			<filter id="sepia" x="-10%" y="-10%" width="120%" height="120%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
				<feColorMatrix type="matrix" values=".33 .33 .33 0 0
					.33 .33 .33 0 0
					.33 .33 .33 0 0
					0 0 0 1 0" in="SourceGraphic" result="colormatrix"></feColorMatrix>
				<feComponentTransfer in="colormatrix" result="componentTransfer">
					<feFuncR type="table" tableValues="0.26 0.95"></feFuncR>
					<feFuncG type="table" tableValues="0.19 0.78"></feFuncG>
					<feFuncB type="table" tableValues="0.11 0.59"></feFuncB>
					<feFuncA type="table" tableValues="0 1"></feFuncA>
				</feComponentTransfer>
				<feBlend mode="normal" in="componentTransfer" in2="SourceGraphic" result="blend"></feBlend>
			</filter>
			<filter id="purple-sepia" x="-10%" y="-10%" width="120%" height="120%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
				<feColorMatrix type="matrix" values=".33 .33 .33 0 0
					.33 .33 .33 0 0
					.33 .33 .33 0 0
					0 0 0 1 0" in="SourceGraphic" result="colormatrix"></feColorMatrix>
				<feComponentTransfer in="colormatrix" result="componentTransfer">
					<feFuncR type="table" tableValues="0.43 0.97"></feFuncR>
					<feFuncG type="table" tableValues="0.06 0.88"></feFuncG>
					<feFuncB type="table" tableValues="0.37 0.79"></feFuncB>
					<feFuncA type="table" tableValues="0 1"></feFuncA>
				</feComponentTransfer>
				<feBlend mode="normal" in="componentTransfer" in2="SourceGraphic" result="blend"></feBlend>
			</filter>
			<filter id="cherry-icecream" x="-10%" y="-10%" width="120%" height="120%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
				<feColorMatrix type="matrix" values=".33 .33 .33 0 0
					.33 .33 .33 0 0
					.33 .33 .33 0 0
					0 0 0 1 0" in="SourceGraphic" result="colormatrix"></feColorMatrix>
				<feComponentTransfer in="colormatrix" result="componentTransfer">
					<feFuncR type="table" tableValues="0.84 1"></feFuncR>
					<feFuncG type="table" tableValues="0.05 0.94"></feFuncG>
					<feFuncB type="table" tableValues="0.37 0.61"></feFuncB>
					<feFuncA type="table" tableValues="0 1"></feFuncA>
				</feComponentTransfer>
				<feBlend mode="normal" in="componentTransfer" in2="SourceGraphic" result="blend"></feBlend>
			</filter>
			<filter id="blackCurrant-and-mint" x="-10%" y="-10%" width="120%" height="120%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
				<feColorMatrix type="matrix" values=".33 .33 .33 0 0
					.33 .33 .33 0 0
					.33 .33 .33 0 0
					0 0 0 1 0" in="SourceGraphic" result="colormatrix"></feColorMatrix>
				<feComponentTransfer in="colormatrix" result="componentTransfer">
					<feFuncR type="table" tableValues="0.75 0.53"></feFuncR>
					<feFuncG type="table" tableValues="0.25 0.97"></feFuncG>
					<feFuncB type="table" tableValues="0.64 0.77"></feFuncB>
					<feFuncA type="table" tableValues="0 1"></feFuncA>
				</feComponentTransfer>
				<feBlend mode="normal" in="componentTransfer" in2="SourceGraphic" result="blend"></feBlend>
			</filter>
			<filter id="sea" x="-10%" y="-10%" width="120%" height="120%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
				<feColorMatrix type="matrix" values=".33 .33 .33 0 0
					.33 .33 .33 0 0
					.33 .33 .33 0 0
					0 0 0 1 0" in="SourceGraphic" result="colormatrix"></feColorMatrix>
				<feComponentTransfer in="colormatrix" result="componentTransfer">
					<feFuncR type="table" tableValues="0.02 0.13 0.8"></feFuncR>
					<feFuncG type="table" tableValues="0.02 0.47 0.97"></feFuncG>
					<feFuncB type="table" tableValues="0.26 0.52 0.48"></feFuncB>
					<feFuncA type="table" tableValues="0 1"></feFuncA>
				</feComponentTransfer>
				<feBlend mode="normal" in="componentTransfer" in2="SourceGraphic" result="blend"></feBlend>
			</filter>
			<filter id="warm-sea" x="-10%" y="-10%" width="120%" height="120%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
				<feColorMatrix type="matrix" values=".33 .33 .33 0 0
					.33 .33 .33 0 0
					.33 .33 .33 0 0
					0 0 0 1 0" in="SourceGraphic" result="colormatrix"></feColorMatrix>
				<feComponentTransfer in="colormatrix" result="componentTransfer">
					<feFuncR type="table" tableValues="0.29 0.01 0.97"></feFuncR>
					<feFuncG type="table" tableValues="0.12 0.52 0.94"></feFuncG>
					<feFuncB type="table" tableValues="0.37 0.59 0.47"></feFuncB>
					<feFuncA type="table" tableValues="0 1"></feFuncA>
				</feComponentTransfer>
				<feBlend mode="normal" in="componentTransfer" in2="SourceGraphic" result="blend"></feBlend>
			</filter>
			<filter id="spring-grass" x="-10%" y="-10%" width="120%" height="120%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
				<feColorMatrix type="matrix" values=".33 .33 .33 0 0
					.33 .33 .33 0 0
					.33 .33 .33 0 0
					0 0 0 1 0" in="SourceGraphic" result="colormatrix"></feColorMatrix>
				<feComponentTransfer in="colormatrix" result="componentTransfer">
					<feFuncR type="table" tableValues="0 0.38 0.92"></feFuncR>
					<feFuncG type="table" tableValues="0.5 0.8 1"></feFuncG>
					<feFuncB type="table" tableValues="0.5 0.56 0.74"></feFuncB>
					<feFuncA type="table" tableValues="0 1"></feFuncA>
				</feComponentTransfer>
				<feBlend mode="normal" in="componentTransfer" in2="SourceGraphic" result="blend"></feBlend>
			</filter>
			<filter id="red-sunset-with-purple" x="-10%" y="-10%" width="120%" height="120%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
				<feColorMatrix type="matrix" values=".33 .33 .33 0 0
					.33 .33 .33 0 0
					.33 .33 .33 0 0
					0 0 0 1 0" in="SourceGraphic" result="colormatrix"></feColorMatrix>
				<feComponentTransfer in="colormatrix" result="componentTransfer">
					<feFuncR type="table" tableValues="0.52 0.86 0.97"></feFuncR>
					<feFuncG type="table" tableValues="0 0.08 0.81"></feFuncG>
					<feFuncB type="table" tableValues="0.51 0.24 0.05"></feFuncB>
					<feFuncA type="table" tableValues="0 1"></feFuncA>
				</feComponentTransfer>
				<feBlend mode="normal" in="componentTransfer" in2="SourceGraphic" result="blend"></feBlend>
			</filter>
			<filter id="red-sunset" x="-10%" y="-10%" width="120%" height="120%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
				<feColorMatrix type="matrix" values=".33 .33 .33 0 0
					.33 .33 .33 0 0
					.33 .33 .33 0 0
					0 0 0 1 0" in="SourceGraphic" result="colormatrix"></feColorMatrix>
				<feComponentTransfer in="colormatrix" result="componentTransfer">
					<feFuncR type="table" tableValues="0.27 0.86 0.97"></feFuncR>
					<feFuncG type="table" tableValues="0.01 0.08 0.81"></feFuncG>
					<feFuncB type="table" tableValues="0.02 0.24 0.05"></feFuncB>
					<feFuncA type="table" tableValues="0 1"></feFuncA>
				</feComponentTransfer>
				<feBlend mode="normal" in="componentTransfer" in2="SourceGraphic" result="blend"></feBlend>
			</filter>
			<filter id="gold-sunset" x="-10%" y="-10%" width="120%" height="120%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
				<feColorMatrix type="matrix" values=".33 .33 .33 0 0
					.33 .33 .33 0 0
					.33 .33 .33 0 0
					0 0 0 1 0" in="SourceGraphic" result="colormatrix"></feColorMatrix>
				<feComponentTransfer in="colormatrix" result="componentTransfer">
					<feFuncR type="table" tableValues="0.27 0.86 1"></feFuncR>
					<feFuncG type="table" tableValues="0.01 0.31 0.95"></feFuncG>
					<feFuncB type="table" tableValues="0.02 0.02 0.02"></feFuncB>
					<feFuncA type="table" tableValues="0 1"></feFuncA>
				</feComponentTransfer>
				<feBlend mode="normal" in="componentTransfer" in2="SourceGraphic" result="blend"></feBlend>
			</filter>
			<filter id="dark-crimson-sepia" x="-10%" y="-10%" width="120%" height="120%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
				<feColorMatrix type="matrix" values=".33 .33 .33 0 0
					.33 .33 .33 0 0
					.33 .33 .33 0 0
					0 0 0 1 0" in="SourceGraphic" result="colormatrix"></feColorMatrix>
				<feComponentTransfer in="colormatrix" result="componentTransfer">
					<feFuncR type="table" tableValues="0.01 0.52 0.97"></feFuncR>
					<feFuncG type="table" tableValues="0 0.05 0.81"></feFuncG>
					<feFuncB type="table" tableValues="0.02 0.29 0.61"></feFuncB>
					<feFuncA type="table" tableValues="0 1"></feFuncA>
				</feComponentTransfer>
				<feBlend mode="normal" in="componentTransfer" in2="SourceGraphic" result="blend"></feBlend>
			</filter>
			<filter id="dark-blue-sepia" x="-10%" y="-10%" width="120%" height="120%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
				<feColorMatrix type="matrix" values=".33 .33 .33 0 0
					.33 .33 .33 0 0
					.33 .33 .33 0 0
					0 0 0 1 0" in="SourceGraphic" result="colormatrix"></feColorMatrix>
				<feComponentTransfer in="colormatrix" result="componentTransfer">
					<feFuncR type="table" tableValues="0.29 0.15 0.97"></feFuncR>
					<feFuncG type="table" tableValues="0.04 0.39 0.93"></feFuncG>
					<feFuncB type="table" tableValues="0.32 0.52 0.73"></feFuncB>
					<feFuncA type="table" tableValues="0 1"></feFuncA>
				</feComponentTransfer>
				<feBlend mode="normal" in="componentTransfer" in2="SourceGraphic" result="blend"></feBlend>
			</filter>
			<filter id="dark-green-sepia" x="-10%" y="-10%" width="120%" height="120%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
				<feColorMatrix type="matrix" values=".33 .33 .33 0 0
					.33 .33 .33 0 0
					.33 .33 .33 0 0
					0 0 0 1 0" in="SourceGraphic" result="colormatrix"></feColorMatrix>
				<feComponentTransfer in="colormatrix" result="componentTransfer">
					<feFuncR type="table" tableValues="0.25 0.39 0.96"></feFuncR>
					<feFuncG type="table" tableValues="0.16 0.52 0.97"></feFuncG>
					<feFuncB type="table" tableValues="0.06 0.39 0.78"></feFuncB>
					<feFuncA type="table" tableValues="0 1"></feFuncA>
				</feComponentTransfer>
				<feBlend mode="normal" in="componentTransfer" in2="SourceGraphic" result="blend"></feBlend>
			</filter>
			<filter id="x-rays" x="-10%" y="-10%" width="120%" height="120%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
				<feColorMatrix type="matrix" values=".33 .33 .33 0 0
					.33 .33 .33 0 0
					.33 .33 .33 0 0
					0 0 0 1 0" in="SourceGraphic" result="colormatrix"></feColorMatrix>
				<feComponentTransfer in="colormatrix" result="componentTransfer">
					<feFuncR type="table" tableValues="0.98 0.3 0.25"></feFuncR>
					<feFuncG type="table" tableValues="1 0.44 0.24"></feFuncG>
					<feFuncB type="table" tableValues="0.91 0.62 0.39"></feFuncB>
					<feFuncA type="table" tableValues="0 1"></feFuncA>
				</feComponentTransfer>
				<feBlend mode="normal" in="componentTransfer" in2="SourceGraphic" result="blend"></feBlend>
			</filter>
			<filter id="warm-x-rays" x="-10%" y="-10%" width="120%" height="120%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
				<feColorMatrix type="matrix" values=".33 .33 .33 0 0
					.33 .33 .33 0 0
					.33 .33 .33 0 0
					0 0 0 1 0" in="SourceGraphic" result="colormatrix"></feColorMatrix>
				<feComponentTransfer in="colormatrix" result="componentTransfer">
					<feFuncR type="table" tableValues="0.98 0.75 0.51"></feFuncR>
					<feFuncG type="table" tableValues="1 0.45 0.11"></feFuncG>
					<feFuncB type="table" tableValues="0.91 0.39 0.29"></feFuncB>
					<feFuncA type="table" tableValues="0 1"></feFuncA>
				</feComponentTransfer>
				<feBlend mode="normal" in="componentTransfer" in2="SourceGraphic" result="blend"></feBlend>
			</filter>
			<filter id="golden-x-rays" x="-10%" y="-10%" width="120%" height="120%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
				<feColorMatrix type="matrix" values=".33 .33 .33 0 0
					.33 .33 .33 0 0
					.33 .33 .33 0 0
					0 0 0 1 0" in="SourceGraphic" result="colormatrix"></feColorMatrix>
				<feComponentTransfer in="colormatrix" result="componentTransfer">
					<feFuncR type="table" tableValues="0.98 1 0.94"></feFuncR>
					<feFuncG type="table" tableValues="1 0.98 0.44"></feFuncG>
					<feFuncB type="table" tableValues="0.91 0.43 0.02"></feFuncB>
					<feFuncA type="table" tableValues="0 1"></feFuncA>
				</feComponentTransfer>
				<feBlend mode="normal" in="componentTransfer" in2="SourceGraphic" result="blend"></feBlend>
			</filter>
			<filter id="purple-warm" x="-10%" y="-10%" width="120%" height="120%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
				<feColorMatrix type="matrix" values=".33 .33 .33 0 0
					.33 .33 .33 0 0
					.33 .33 .33 0 0
					0 0 0 1 0" in="SourceGraphic" result="colormatrix"></feColorMatrix>
				<feComponentTransfer in="colormatrix" result="componentTransfer">
					<feFuncR type="table" tableValues="0.52 0.97 1"></feFuncR>
					<feFuncG type="table" tableValues="0 0.62 1"></feFuncG>
					<feFuncB type="table" tableValues="0.51 0.39 0.89"></feFuncB>
					<feFuncA type="table" tableValues="0 1"></feFuncA>
				</feComponentTransfer>
				<feBlend mode="normal" in="componentTransfer" in2="SourceGraphic" result="blend"></feBlend>
			</filter>
			<filter id="green-pink-acid" x="-10%" y="-10%" width="120%" height="120%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
				<feColorMatrix type="matrix" values=".33 .33 .33 0 0
					.33 .33 .33 0 0
					.33 .33 .33 0 0
					0 0 0 1 0" in="SourceGraphic" result="colormatrix"></feColorMatrix>
				<feComponentTransfer in="colormatrix" result="componentTransfer">
					<feFuncR type="table" tableValues="1 0.98 0.1"></feFuncR>
					<feFuncG type="table" tableValues="0.17 1 0.82"></feFuncG>
					<feFuncB type="table" tableValues="0.7 0.84 0.67"></feFuncB>
					<feFuncA type="table" tableValues="0 1"></feFuncA>
				</feComponentTransfer>
				<feBlend mode="normal" in="componentTransfer" in2="SourceGraphic" result="blend"></feBlend>
			</filter>
			<filter id="yellow-blue-acid" x="-10%" y="-10%" width="120%" height="120%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
				<feColorMatrix type="matrix" values=".33 .33 .33 0 0
					.33 .33 .33 0 0
					.33 .33 .33 0 0
					0 0 0 1 0" in="SourceGraphic" result="colormatrix"></feColorMatrix>
				<feComponentTransfer in="colormatrix" result="componentTransfer">
					<feFuncR type="table" tableValues="0.01 0.97 0.89"></feFuncR>
					<feFuncG type="table" tableValues="0.38 1 1"></feFuncG>
					<feFuncB type="table" tableValues="1 0.89 0.01"></feFuncB>
					<feFuncA type="table" tableValues="0 1"></feFuncA>
				</feComponentTransfer>
				<feBlend mode="normal" in="componentTransfer" in2="SourceGraphic" result="blend"></feBlend>
			</filter>
			<filter id="noise" x="0%" y="0%" width="100%" height="100%">
				<feTurbulence baseFrequency="0.2 0.2" result="NOISE" numOctaves="2"></feTurbulence>
				<feDisplacementMap in="SourceGraphic" in2="NOISE" scale="20" xChannelSelector="R" yChannelSelector="R"></feDisplacementMap>
			</filter>
			<filter id="squiggly-0">
				<feTurbulence id="turbulence1" baseFrequency="0.02" numOctaves="3" result="noise" seed="0"></feTurbulence>
				<feDisplacementMap id="displacement" in="SourceGraphic" in2="noise" scale="6"></feDisplacementMap>
			</filter>
			<filter id="squiggly-1">
				<feTurbulence id="squiggly-1-turbulence" baseFrequency="0.04" numOctaves="3" result="noise" seed="1"></feTurbulence>
				<feDisplacementMap in="SourceGraphic" in2="noise" scale="8"></feDisplacementMap>
			</filter>
			<filter id="squiggly-2">
				<feTurbulence id="turbulence3" baseFrequency="0.02" numOctaves="3" result="noise" seed="2"></feTurbulence>
				<feDisplacementMap in="SourceGraphic" in2="noise" scale="6"></feDisplacementMap>
			</filter>
			<filter id="squiggly-3">
				<feTurbulence id="turbulence4" baseFrequency="0.02" numOctaves="3" result="noise" seed="3"></feTurbulence>
				<feDisplacementMap in="SourceGraphic" in2="noise" scale="8"></feDisplacementMap>
			</filter>
			<filter id="squiggly-4">
				<feTurbulence id="turbulence5" baseFrequency="0.02" numOctaves="3" result="noise" seed="4"></feTurbulence>
				<feDisplacementMap in="SourceGraphic" in2="noise" scale="6"></feDisplacementMap>
			</filter>
			<filter id="posterize">
				<feComponentTransfer>
					<feFuncR type="discrete" tableValues="0 .5 1"></feFuncR>
				</feComponentTransfer>
			</filter>
			<filter id="dancing" x="-20%" y="-20%" width="140%" height="140%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="linearRGB">
				<feMorphology operator="dilate" radius="4 4" in="SourceAlpha" result="morphology"></feMorphology>
				<feFlood flood-color="#30597E" flood-opacity="1" result="flood"></feFlood>
				<feComposite in="flood" in2="morphology" operator="in" result="composite"></feComposite>
				<feComposite in="composite" in2="SourceAlpha" operator="out" result="composite1"></feComposite>
				<feTurbulence type="fractalNoise" baseFrequency="0.01 0.02" numOctaves="1" seed="0" stitchTiles="stitch" result="turbulence"></feTurbulence>
				<feDisplacementMap in="composite1" in2="turbulence" scale="17" xChannelSelector="A" yChannelSelector="A" result="displacementMap"></feDisplacementMap>
				<feMerge result="merge">
					<feMergeNode in="SourceGraphic"></feMergeNode>
					<feMergeNode in="displacementMap"></feMergeNode>
					</feMerge>
			</filter>
			<filter id="drops" x="-20%" y="-20%" width="140%" height="140%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
				<feTurbulence type="turbulence" baseFrequency="0.05 0.05" numOctaves="1" seed="3" stitchTiles="stitch" result="turbulence"></feTurbulence>
				<feComposite in="turbulence" in2="SourceGraphic" operator="in" result="composite"></feComposite>
				<feColorMatrix type="matrix" values="1 0 0 0 0
					0 1 0 0 0
					0 0 1 0 0
					0 0 0 25 -2" in="composite" result="colormatrix"></feColorMatrix>
				<feComposite in="SourceGraphic" in2="colormatrix" operator="in" result="composite1"></feComposite>
				<feGaussianBlur stdDeviation="3 3" in="composite1" result="blur"></feGaussianBlur>
				<feSpecularLighting surfaceScale="2" specularConstant="1" specularExponent="20" lighting-color="#fffffd" in="blur" result="specularLighting">
					<feDistantLight azimuth="-90" elevation="150"></feDistantLight>
				</feSpecularLighting>
				<feSpecularLighting surfaceScale="2" specularConstant="1" specularExponent="20" lighting-color="#cae1fe" in="blur" result="specularLighting1">
					<feDistantLight azimuth="90" elevation="150"></feDistantLight>
				</feSpecularLighting>
				<feSpecularLighting surfaceScale="7" specularConstant="1" specularExponent="35" lighting-color="#fcfeff" in="blur" result="specularLighting2">
					<fePointLight x="150" y="50" z="300"></fePointLight>
				</feSpecularLighting>
				<feComposite in="specularLighting" in2="composite1" operator="in" result="composite2"></feComposite>
				<feComposite in="specularLighting2" in2="composite1" operator="in" result="composite3"></feComposite>
				<feComposite in="specularLighting1" in2="composite1" operator="in" result="composite4"></feComposite>
				<feBlend mode="multiply" in="composite4" in2="SourceGraphic" result="blend"></feBlend>
				<feBlend in="composite2" in2="blend" result="blend1"></feBlend>
				<feBlend in="composite3" in2="blend1" result="blend2"></feBlend>
			</filter>
			<filter id="grain">
				<feTurbulence baseFrequency="0.60,0.90" result="colorNoise"></feTurbulence>
				<feColorMatrix in="colorNoise" type="matrix" values=".33 .33 .33 0 0 .33 .33 .33 0 0 .33 .33 .33 0 0 0 0 0 1 0"></feColorMatrix>
				<feComposite operator="in" in2="SourceGraphic" result="monoNoise"></feComposite>
				<feBlend in="SourceGraphic" in2="monoNoise" mode="multiply"></feBlend>
			</filter>
			<filter id="fluffy" x="0%" y="0%" width="100%" height="100%">
				 <feTurbulence type="fractalNoise" baseFrequency="0.04" result="fluffyNoise" numOctaves="5"></feTurbulence>
				<feColorMatrix in="fluffyNoise" type="matrix" values=".33 .33 .33 0 0 .33 .33 .33 0 0 .33 .33 .33 0 0 0 0 0 1 0"></feColorMatrix>
				<feComposite operator="in" in2="SourceGraphic" result="monoFluffyNoise"></feComposite>
				<feBlend in="SourceGraphic" in2="monoFluffyNoise" mode="screen"></feBlend>
			</filter>
      
            <filter id="ripple1">
            <feTurbulence id='ripple1-turbulence' type="fractalNoise" 
              baseFrequency=".02" numOctaves="3" />
            <feDisplacementMap in="SourceGraphic" scale="240" />
            </filter>
           <filter id="outliner">
                <!-- Start by grabbing the alpha channel of the text and dilating it-->
                <feMorphology operator="dilate" radius="10" in="SourceAlpha" result="THICKNESS" />
                 <!-- Next, grab the original text (SourceGraphic) and use it to cut out the inside of the dilated text -->
                <feComposite operator="out" in="THICKNESS" in2="SourceGraphic"></feComposite>
            </filter>
            <filter id="displacementFilter">
                <feTurbulence baseFrequency="0.05"  id='displacementFilter-turbulence'
                    numOctaves="3" result="turbulence"/>
                <feDisplacementMap in2="turbulence" in="SourceGraphic"
                    scale="50" xChannelSelector="R" yChannelSelector="G"/>
              </filter>
            <filter id="displacementFilter2">
                <feTurbulence baseFrequency="0.02"  id='displacementFilter2-turbulence'
                    numOctaves="3" result="turbulence"/>
                <feDisplacementMap in2="turbulence" in="SourceGraphic"
                    scale="50" xChannelSelector="R" yChannelSelector="G"/>
              </filter>
		</defs>
	</svg>

	
<script type="text/javascript">
    window.onbeforeunload = function() {
        return "Are you sure you want to leave the page? Anything unsaved will be lost";
    }
</script>	
	
<script src='alea.js'></script>
<script src='simplex-noise.js'></script>
<script src='irutil.js'></script>
<script src='irstore.js'></script>
<script src='keyedarray.js'></script>
<script src='smoothpopup.js'></script>
<script src='dmd.js'></script>
<script src='stylepresets.js'></script>
<script src='stamps.js'></script>
<script src='dungeonrooms.js'></script>
<script src='modedoodle.js'></script>
<script src='modeerase.js'></script>
<script src='modehatching.js'></script>
<script src='modeline.js'></script>
<script src='modewall.js'></script>
<script src='modemove.js'></script>
<script src='moderoomtool.js'></script>
<script src='modesnaptogrid.js'></script>
<script src='modeshapetool.js'></script>
<script src='modetext.js'></script>
<script src='modestamps.js'></script>
<script src='modes.js'></script>
<script src='rough.js'></script>
<script src="warehouseMap.js"></script>  
<script src="warehouseMap2.js"></script>
<script src="fps.min.js"></script>
<script>
  if ('serviceWorker' in navigator) {
  window.addEventListener('load', function() {
  navigator.serviceWorker.register('service-worker.js').then(function(registration) {
  // Registration was successful
  console.log('Registered!');
  }, function(err) {
  // registration failed :(
  console.log('ServiceWorker registration failed: ', err);
  }).catch(function(err) {
  console.log(err);
  });
  });
  } else {
  console.log('service worker is not supported');
  }
  </script>

	
<!-- Start Open Web Analytics Tracker -->
<script type="text/javascript">
//<![CDATA[
var owa_baseUrl = 'https://uncon.ca/openwebanalytics/';
var owa_cmds = owa_cmds || [];
owa_cmds.push(['setSiteId', 'ffb87c343d5de595b88243c63a1ca70d']);
owa_cmds.push(['trackPageView']);
owa_cmds.push(['trackClicks']);

(function() {
	var _owa = document.createElement('script'); _owa.type = 'text/javascript'; _owa.async = true;
	owa_baseUrl = ('https:' == document.location.protocol ? window.owa_baseSecUrl || owa_baseUrl.replace(/http:/, 'https:') : owa_baseUrl );
	_owa.src = owa_baseUrl + 'modules/base/js/owa.tracker-combined-min.js';
	var _owa_s = document.getElementsByTagName('script')[0]; _owa_s.parentNode.insertBefore(_owa, _owa_s);
}());
//]]>
</script>

</body>
</html>